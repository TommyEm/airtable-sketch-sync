{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/lib/alert.js","webpack://exports/./src/lib/ui.js","webpack://exports/./src/settings.js","webpack://exports/external \"sketch\""],"names":["sketch","require","Settings","createBoldLabel","createField","createSelect","views","labelWidth","labelHeight","fieldWidth","fieldHeight","fieldSpacing","getUserOptions","defaultOptions","baseNames","langs","alert","NSAlert","alloc","init","alertIconPath","context","plugin","urlForResourceNamed","path","alertIcon","NSImage","initByReferencingFile","alertContent","NSView","setIcon","setMessageText","setInformativeText","addButtonWithTitle","setFlipped","offsetY","baseLabel","NSMakeRect","addSubview","baseSelect","indexOf","base","CGRectGetMaxY","subviews","lastObject","frame","langLabel","langSelect","lang","viewLabel","viewSelect","view","maxRecordsLabel","maxRecordsField","maxRecords","underlineColorLabel","underlineColorField","underlineColor","accessoryView","responseCode","runModal","NSAlertFirstButtonReturn","pluginOptions","stringValue","setSettingForKey","setPlugin","defaultSettings","APIKeyLabel","APIKeyField","APIKey","pluginSettings","displayError","message","text","size","label","NSTextField","initWithFrame","setStringValue","setFont","NSFont","boldSystemFontOfSize","setBezeled","setDrawsBackground","setEditable","setSelectable","value","field","items","selectedItemIndex","comboBox","NSComboBox","selectedItemIndex2","addItemsWithObjectValues","selectItemAtIndex","setNumberOfVisibleItems","setCompletes","settingForKey"],"mappings":"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","file":"settings.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/settings.js\");\n","const sketch = require('sketch');\nconst { Settings } = sketch;\nconst {\n    createBoldLabel,\n    createField,\n    createSelect,\n} = require('./ui');\n\nconst views = ['Grid view'];\n\n// UI Settings\nconst labelWidth = 100;\nconst labelHeight = 24;\nconst fieldWidth = 150;\nconst fieldHeight = 28;\nconst fieldSpacing = 20;\n\n\n\n/**\n * Create alert modal with options\n * @param {object} defaultOptions\n * @param {array} baseNames\n */\nexport function getUserOptions(defaultOptions, baseNames, langs) {\n\tconst alert = NSAlert.alloc().init(),\n\t\talertIconPath = context.plugin.urlForResourceNamed('icon.png').path(),\n\t\talertIcon = NSImage.alloc().initByReferencingFile(alertIconPath),\n\t\talertContent = NSView.alloc().init();\n\n\talert.setIcon(alertIcon);\n\talert.setMessageText('Airtable');\n\talert.setInformativeText('lorem');\n\t// Buttons\n\talert.addButtonWithTitle('OK');\n\talert.addButtonWithTitle('Cancel');\n\n\talertContent.setFlipped(true);\n\n\n\tlet offsetY = 0;\n\n\n\t// Select base (Project)\n\tconst baseLabel = createBoldLabel(\n\t\t'Base',\n\t\t12,\n\t\tNSMakeRect(0, offsetY, fieldWidth, labelHeight)\n\t);\n\talertContent.addSubview(baseLabel);\n\n\tconst baseSelect = createSelect(\n\t\tbaseNames,\n\t\tbaseNames.indexOf(defaultOptions.base),\n\t\tNSMakeRect(labelWidth, offsetY, fieldWidth, fieldHeight)\n\t);\n\talertContent.addSubview(baseSelect);\n\n\toffsetY = CGRectGetMaxY(alertContent.subviews().lastObject().frame()) + fieldSpacing;\n\n\n\t// Language\n\tconst langLabel = createBoldLabel(\n\t\t'Language',\n\t\t12,\n\t\tNSMakeRect(0, offsetY, fieldWidth, labelHeight));\n\talertContent.addSubview(langLabel);\n\n\tconst langSelect = createSelect(\n\t\tlangs,\n\t\tlangs.indexOf(defaultOptions.lang),\n\t\tNSMakeRect(labelWidth, offsetY, fieldWidth, fieldHeight));\n\talertContent.addSubview(langSelect);\n\n\toffsetY = CGRectGetMaxY(alertContent.subviews().lastObject().frame()) + fieldSpacing;\n\n\n\t// View\n\tconst viewLabel = createBoldLabel(\n\t\t'View',\n\t\t12,\n\t\tNSMakeRect(0, offsetY, fieldWidth, labelHeight));\n\talertContent.addSubview(viewLabel);\n\n\tconst viewSelect = createSelect(\n\t\tviews,\n\t\tviews.indexOf(defaultOptions.view),\n\t\tNSMakeRect(labelWidth, offsetY, fieldWidth, fieldHeight));\n\talertContent.addSubview(viewSelect);\n\n\toffsetY = CGRectGetMaxY(alertContent.subviews().lastObject().frame()) + fieldSpacing;\n\n\n\t// Max records\n\tconst maxRecordsLabel = createBoldLabel(\n\t\t'Max records',\n\t\t12,\n\t\tNSMakeRect(0, offsetY, fieldWidth, labelHeight));\n\talertContent.addSubview(maxRecordsLabel);\n\n\tconst maxRecordsField = createField(\n\t\tdefaultOptions.maxRecords,\n\t\tNSMakeRect(labelWidth, offsetY, fieldWidth, fieldHeight));\n\talertContent.addSubview(maxRecordsField);\n\n\toffsetY = CGRectGetMaxY(alertContent.subviews().lastObject().frame()) + fieldSpacing;\n\n\n\t// Underline color\n\tconst underlineColorLabel = createBoldLabel(\n\t\t'Underline color',\n\t\t12,\n\t\tNSMakeRect(0, offsetY, fieldWidth, labelHeight));\n\talertContent.addSubview(underlineColorLabel);\n\n\tconst underlineColorField = createField(\n\t\tdefaultOptions.underlineColor,\n\t\tNSMakeRect(labelWidth, offsetY, fieldWidth, fieldHeight));\n\talertContent.addSubview(underlineColorField);\n\n\n\n\talertContent.frame = NSMakeRect(\n\t\t0,\n\t\t20,\n\t\t300,\n\t\tCGRectGetMaxY(alertContent.subviews().lastObject().frame()),\n\t);\n\talert.accessoryView = alertContent;\n\n\n\n\t// Display alert\n\tvar responseCode = alert.runModal();\n\tif (responseCode == NSAlertFirstButtonReturn) {\n\t\tif (responseCode === 1000) {\n\t\t\tconst pluginOptions = {\n\t\t\t\tbase: baseSelect.stringValue(),\n\t\t\t\tview: viewSelect.stringValue(),\n\t\t\t\tmaxRecords: maxRecordsField.stringValue(),\n\t\t\t\tlang: langSelect.stringValue(),\n\t\t\t\tunderlineColor: underlineColorField.stringValue(),\n\t\t\t};\n\n\t\t\tSettings.setSettingForKey('sketchAirtableSync', pluginOptions);\n\n\t\t\treturn pluginOptions;\n\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\n\n\n/**\n * Plugin Settings (API Key)\n * @param {object} defaultSettings\n */\nexport function setPlugin(defaultSettings) {\n\tconst alert = NSAlert.alloc().init(),\n\t\talertIconPath = context.plugin.urlForResourceNamed('icon.png').path(),\n\t\talertIcon = NSImage.alloc().initByReferencingFile(alertIconPath),\n\t\talertContent = NSView.alloc().init();\n\n\talert.setIcon(alertIcon);\n\talert.setMessageText('Sketch Airtable Sync');\n\talert.setInformativeText('Settings');\n\t// Buttons\n\talert.addButtonWithTitle('OK');\n\talert.addButtonWithTitle('Cancel');\n\n\talertContent.setFlipped(true);\n\n\n\tlet offsetY = 0;\n\n\n\t// API Key\n\tconst APIKeyLabel = createBoldLabel(\n\t\t'API Key',\n\t\t12,\n\t\tNSMakeRect(0, offsetY, fieldWidth, labelHeight));\n\talertContent.addSubview(APIKeyLabel);\n\n\tconst APIKeyField = createField(\n\t\tdefaultSettings.APIKey,\n\t\tNSMakeRect(labelWidth, offsetY, fieldWidth, fieldHeight));\n\talertContent.addSubview(APIKeyField);\n\n\n\n\talertContent.frame = NSMakeRect(\n\t\t0,\n\t\t20,\n\t\t300,\n\t\tCGRectGetMaxY(alertContent.subviews().lastObject().frame())\n\t);\n\talert.accessoryView = alertContent;\n\n\n\t// Display alert\n\tvar responseCode = alert.runModal();\n\tif (responseCode == NSAlertFirstButtonReturn) {\n\t\tif (responseCode === 1000) {\n\t\t\tconst pluginSettings = {\n\t\t\t\tAPIKey: APIKeyField.stringValue(),\n\t\t\t};\n\n\t\t\tSettings.setSettingForKey('sketchAirtableSyncSettings', pluginSettings);\n\n\t\t\treturn pluginSettings;\n\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n}\n\n\n\n/**\n * Error alert\n * @param {string} message\n */\nexport function displayError(message) {\n\tconst alert = NSAlert.alloc().init(),\n\t\talertIconPath = context.plugin.urlForResourceNamed('icon.png').path(),\n\t\talertIcon = NSImage.alloc().initByReferencingFile(alertIconPath),\n\t\talertContent = NSView.alloc().init();\n\n\talert.setIcon(alertIcon);\n\talert.setMessageText('Error');\n\talert.setInformativeText(message);\n\t// Buttons\n\talert.addButtonWithTitle('OK');\n\n\t// Display alert\n\talert.runModal();\n}\n","/**\n * Create a label with bold style\n * @param {string} text \n * @param {number} size \n * @param {object} frame \n */\nexport function createBoldLabel(text, size, frame) {\n\tvar label = NSTextField.alloc().initWithFrame(frame);\n\n\tlabel.setStringValue(text);\n\tlabel.setFont(NSFont.boldSystemFontOfSize(size));\n\tlabel.setBezeled(false);\n\tlabel.setDrawsBackground(false);\n\tlabel.setEditable(false);\n\tlabel.setSelectable(false);\n\n\treturn label;\n}\n\n\n/**\n * Create a text field\n * @param {string} value \n * @param {object} frame \n */\nexport function createField(value, frame) {\n\tvar field = NSTextField.alloc().initWithFrame(frame);\n\n\tfield.setStringValue(value);\n\n\treturn field;\n}\n\n\n/**\n * Create a select field\n * @param {array} items \n * @param {number} selectedItemIndex \n * @param {object} frame \n */\nexport function createSelect(items, selectedItemIndex, frame) {\n\tconst comboBox = NSComboBox.alloc().initWithFrame(frame),\n\t\tselectedItemIndex2 = (selectedItemIndex > -1) ? selectedItemIndex : 0;\n\n\tcomboBox.addItemsWithObjectValues(items);\n\tcomboBox.selectItemAtIndex(selectedItemIndex2);\n\tcomboBox.setNumberOfVisibleItems(16);\n\tcomboBox.setCompletes(1);\n\n\treturn comboBox;\n}","import sketch from 'sketch';\nconst { Settings } = sketch;\nconst { setPlugin } = require('./lib/alert');\n\n\nexport const pluginSettings = Settings.settingForKey('sketchAirtableSyncSettings');\n\nlet defaultSettings = {};\n\nif (pluginSettings) {\n    defaultSettings.APIKey = pluginSettings.APIKey;\n\n} else {\n    defaultSettings.APIKey = '';\n}\n\n\nexport default function () {\n    setPlugin(defaultSettings);\n}\n","module.exports = require(\"sketch\");"],"sourceRoot":""}